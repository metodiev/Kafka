## Kafka Consumer Groups and Rebalancing

### 1. What are Consumer Groups?
- A **consumer group** is a set of consumers that share the same `group.id`.
- Kafka assigns partitions of subscribed topics among consumers in the same group.
- This enables load balancing and fault tolerance.


### 2. Partition Assignment
- Each partition is consumed by only one consumer in the group.
- Consumers in the group coordinate to ensure each partition is assigned to one consumer.


### 3. Rebalancing
- When a consumer joins or leaves a group, Kafka triggers a **rebalance**.
- Rebalance redistributes partitions among active consumers.
- During rebalance, consumption pauses briefly until partition ownership is updated.


### 4. Rebalance Strategies
Kafka supports different partition assignment strategies:

| Strategy         | Description                                      |
|------------------|------------------------------------------------|
| Range            | Assigns contiguous partitions to consumers      |
| RoundRobin       | Assigns partitions evenly in a round-robin way  |
| Sticky           | Minimizes partition movement on rebalance       |


### 5. Handling Rebalances
- Applications should handle rebalance events to commit offsets and cleanup resources.
- Kafkaâ€™s consumer client provides callbacks to listen for rebalance events.


### 6. Example: Setting Group ID in Consumer Config
```java
props.put("group.id", "my-consumer-group");
```