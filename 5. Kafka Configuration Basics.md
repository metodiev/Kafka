## Kafka Configuration Basics

### 1. Overview
Kafka has multiple configuration layers:
- **Broker-level** settings: control cluster behavior.
- **Topic-level** settings: control topic-specific behavior.
- **Producer and Consumer configs**: control client behavior.


### 2. Broker Configuration
Broker configs live in `config/server.properties` (or `config/kraft/server.properties` for KRaft mode).

Important broker settings include:

| Setting                      | Description                                        | Example             |
|------------------------------|--------------------------------------------------|---------------------|
| `broker.id`                  | Unique broker identifier in the cluster           | `0`                 |
| `num.network.threads`        | Number of threads handling network requests       | `3`                 |
| `num.io.threads`             | Number of threads handling disk I/O               | `8`                 |
| `log.dirs`                  | Directories where Kafka stores logs                | `/tmp/kafka-logs`   |
| `log.retention.hours`        | How long to keep logs (default: 168 hours = 7 days)| `168`               |
| `log.segment.bytes`          | Max size of log segment files                       | `1073741824` (1GB)  |
| `default.replication.factor` | Default number of replicas for topics               | `3`                 |
| `auto.create.topics.enable`  | Enable automatic topic creation                     | `true` or `false`   |



### 3. Topic Configuration
You can override certain settings per topic when creating it or via the CLI:

| Setting               | Description                          | Example         |
|-----------------------|------------------------------------|-----------------|
| `retention.ms`        | Time to retain topic data           | `604800000` (7 days) |
| `cleanup.policy`      | Retention policy (`delete` or `compact`) | `delete`        |
| `segment.bytes`       | Max segment file size               | `1073741824`    |
| `min.insync.replicas` | Minimum in-sync replicas for commit | `2`             |



### 4. Producer Configuration
Common important settings:

| Setting            | Description                        | Example        |
|--------------------|----------------------------------|----------------|
| `acks`             | Message acknowledgment level     | `0`, `1`, `all`|
| `retries`          | Number of retry attempts on failure | `3`          |
| `batch.size`       | Batch size for sending messages    | `16384`       |
| `linger.ms`        | Time to wait before sending batch  | `5`           |


### 5. Consumer Configuration
Common important settings:

| Setting               | Description                         | Example         |
|-----------------------|-----------------------------------|-----------------|
| `group.id`            | Consumer group identifier          | `my-group`      |
| `auto.offset.reset`   | What to do if no offset is found (`earliest` or `latest`) | `earliest` |
| `enable.auto.commit`  | Enable automatic offset commits    | `true` or `false`|



### 6. How to Change Configurations
- Broker configs: edit `server.properties` and restart brokers.
- Topic configs: use CLI (`kafka-configs.sh`) or Admin API.
- Producer/Consumer configs: set programmatically in client code or in config files.



### 7. Summary
Kafka configuration lets you tune performance, durability, and behavior to your use case.  
Start with defaults, then customize as needed.
