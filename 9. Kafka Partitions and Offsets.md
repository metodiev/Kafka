## Kafka Partitions and Offsets

### 1. Partitions Overview
- A **partition** is an ordered, immutable sequence of messages within a topic.
- Partitions enable Kafka to scale horizontally and parallelize message processing.
- Each partition is stored on a single broker.


### 2. Offset Concept
- Each message within a partition has a unique **offset** (a sequential ID starting from 0).
- Offsets are used by consumers to track their read position.
- Offsets are immutable and never reused.


### 3. Partitioning Strategy
- By default, Kafka uses a **partitioner** to decide which partition a message goes to.
- If a key is provided, Kafka hashes the key to assign the partition (ensuring ordering for the same key).
- Without a key, messages are distributed in a round-robin fashion.


### 4. Importance of Partitions
- More partitions = higher parallelism (more consumers can read in parallel).
- Too many partitions may impact performance and increase resource usage.
- Partition count is fixed at topic creation (can be increased later but not decreased).


### 5. Offset Management
- Consumers track offsets to know which messages they have processed.
- Offsets can be committed automatically or manually.
- Manual commits allow more precise control, helping avoid message loss or duplication.



### 6. Example: Viewing Partition Details
```bash
bin/kafka-topics.sh --describe --topic my-topic --bootstrap-server localhost:9092
```
