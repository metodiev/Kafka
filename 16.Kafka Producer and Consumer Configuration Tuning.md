## Kafka Producer and Consumer Configuration Tuning

### 1. Why Tune Kafka Clients?
Proper tuning improves throughput, latency, reliability, and resource utilization of producers and consumers.


### 2. Important Producer Configurations

| Config              | Description                                    | Typical Value / Notes                 |
|---------------------|------------------------------------------------|-------------------------------------|
| acks             | Number of acknowledgments before considering a write successful | all for max durability            |
| linger.ms         | Time to wait before sending a batch           | 5–50 ms (batching for throughput)   |
| batch.size        | Max size of a batch (in bytes)                 | 16 KB – 64 KB                       |
| compression.type  | Compression codec (none, gzip, snappy, lz4, zstd) | Use compression to save bandwidth  |
| retries           | Number of retries on failure                    | 3 or higher                      |
| enable.idempotence| Ensures exactly-once semantics                   | true (recommended)                |


### 3. Important Consumer Configurations

| Config               | Description                                  | Typical Value / Notes               |
|----------------------|----------------------------------------------|-----------------------------------|
| group.id           | Consumer group identifier                     | Unique per group                   |
| auto.offset.reset  | What to do if no committed offset found      | earliest or latest             |
| enable.auto.commit | Whether to auto-commit offsets                | false for manual control         |
| fetch.min.bytes    | Minimum data size fetched per request         | 1 KB or higher for throughput       |
| max.poll.records   | Max records returned in a poll                 | 500 – 1000 (depends on workload)   |
| session.timeout.ms | Timeout for consumer failure detection         | 10,000 ms (default)                 |


### 4. Tips for Tuning

- Increase batch sizes and linger time to improve throughput at the cost of latency.
- Enable idempotence for producers to avoid duplicate messages.
- Use compression to reduce network usage.
- Tune consumer poll size and max records based on processing speed.
- Monitor and adjust retries and timeouts to handle transient errors.


### 5. Summary
Tuning Kafka producer and consumer configurations is key to optimizing performance and reliability.  
Adjust settings based on your workload, latency requirements, and cluster size.
