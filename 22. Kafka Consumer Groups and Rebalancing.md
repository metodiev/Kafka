## Kafka Consumer Groups and Rebalancing

### 1. What are Consumer Groups?
A consumer group is a set of consumers that coordinate to consume partitions of one or more topics. Each partition is consumed by exactly one consumer in the group.


### 2. Benefits of Consumer Groups
- **Scalability:** Allows parallel consumption by multiple consumers.
- **Fault tolerance:** If one consumer fails, others take over its partitions.
- **Load balancing:** Partitions are dynamically assigned among consumers.



### 3. How Rebalancing Works
- Triggered when consumers join or leave a group or topic subscriptions change.
- Kafka coordinator redistributes partitions among active consumers.
- During rebalance, consumers temporarily stop fetching data.


### 4. Rebalancing Strategies
- **Range:** Assigns continuous partition ranges to consumers.
- **RoundRobin:** Distributes partitions evenly in a round-robin fashion.
- **Sticky (default in newer clients):** Minimizes partition movement to reduce overhead.


### 5. Handling Rebalances Gracefully
- Commit offsets before leaving partitions.
- Use `ConsumerRebalanceListener` to manage state during rebalances.
- Tune session timeout (`session.timeout.ms`) and heartbeat interval (`heartbeat.interval.ms`).


### 6. Summary
Consumer groups and rebalancing enable scalable, fault-tolerant consumption in Kafka.  
Understanding and tuning rebalances is key to stable consumer applications.
